x<-rnorm(100)
hist(x)
help(dev.set)
dev.set(dev.next())
hist(x)
dev.set(dev.next())
dev.set(4
)
hist(x)
x<-rnorm(100)
y<-x+rnorm(100)
par(las=1)
plot(x,t)
plot(x,y)
par(las=2)
plot(x,y)
par(las=1)
plot(x,y)
par(las=2)
plot(x,y)
par(las=2)
par(las=1)
plot(x,y)
par("lty")
par("lwd")
par("pch")
par("col")
par("bg")
par("mar")
par("oma")
par("mfrow")
par("mfcol")
x<-rnorm(100)
y<-x+rnorm(100)
plot(x,y)
x1<-rnorm(10)
y1<-rnorm(10)
points(x1,y1,col="red")
?Devices
dev.list
dev.list()
quit()
x<-rnorm(100)
hist(x)
y<-rnorm(100)
plot(x,y)
par(mar=c(2,2,2,2))
plot(x,y)
par(mar=c(4,4,2,2))
plot(x,y, pch=20)
plot(x,y, pch=30)
plot(x,y, pch=10)
plot(x,y, pch=5)
plot(x,y, pch=18)
example(points)
x<-rnorm(100)
y<-rnorm(100)
plot(x,y,pch)
plot(x,y,pch=20)
title("Scatterplot")
text(-2,-2, "Label")
legend("topleft", legend="Data", pch=20)
legend("topleft", legend="Data", pch=19)
fit <-lm(y-x)
fit <-lm(y - x )
y
x
fit <- lm(y - x )
x<-rnorm(100)
y<-rnorm(100)
plot(x,y,pch=20)
fit <- lm(y-x)
fit <- lm(y ˜ x)
fit <- lm(y ~ x)
abline(fit)
abline(fit, lwd=3)
abline(fit, lwd=3, col="blue")
plot(x, y, xlab="Weight", ylab="Height", main="Scatterplot", pch=20)
fit <-lm(y-x)
fit <-lm(y ~ x)
abline(fit, lwd=3, col="red")
z <- rpois(100,2)
par(mfrow=c(2,1))
plot(x,y,pch=20)
plot(x,y,pch=19)
par("mar")
par(mar=c(2,2,1,1)
)
plot(x,y,pch=20)
plot(x,z,pch=19)
par(mfrow=c(1,2))
par(mar=c(4,4,2,2)
plot(x,y,pch=20)
par(mar=c(4,4,2,2))
plot(x,y,pch=20)
plot(x,z,pch=19)
par(mfrow=c(1,1))
x<-rnorm(100)
y<-x+rnorm(100)
g<-gl(2,50, labels=c("Male", Female))
g<-gl(2,50, labels=c("Male", "Female"))
str(g)
g
g[4]
g[40]
g[70]
plot(x,y,type="n")
#add one group at a time
points(x[g=="Male"], y[g==Male], col = "green")
points(x[g=="Male"], y[g=="Male"], col = "green")
points(x[g=="Female"], y[g=="Female"], col = "blue")
points(x[g=="Female"], y[g=="Female"], col = "blue", pch=19)
save.image("~/Documents/week3/workspace_demp.RData")
load("~/Documents/week3/workspace_demp.RData")
#lattice plot
library(lattice)
library(nlme)
xyplot(distance ~ age | Subject, data=orthodont)
xyplot(distance ~ age | Subject, data=Orthodont)
xyplot(distance ~ age | Subject, data=Orthodont, type=b)
xyplot(distance ~ age | Subject, data=Orthodont, type="b")
x<-rnorm(100)
y<-x+rnorm(100,sd=0.5)
f<-fl(2,50,labels=c("Group 1", "Group 2"))
f<-gl(2,50,labels=c("Group 1", "Group 2"))
xyplot(y~x|f)
f<-fl(3,50,labels=c("Group 1", "Group 2", "Group3"))
f<-gl(3,50,labels=c("Group 1", "Group 2", "Group3"))
xyplot(y~x|f)
xyplot(y~x|f)
f<-fl(3,33,labels=c("Group 1", "Group 2", "Group3"))
f<-gl(3,33,labels=c("Group 1", "Group 2", "Group3"))
xyplot(y~x|f)
setwd("~/Documents/dev/Coursera/R/week3/ProgAssignment3-data")
dir()
myData <- read.csv("outcome-of-care-measures.csv")
myDataSplitted <- split(myData, myData$State)
myDataSplittedAndSorted <- lapply(myData, function(x){ order(x, x[,11], x[,2]) })
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){ order(x, x[,11], x[,2]) })
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){ sorted<-order(x, x[,11], x[,2]) })
}
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
sorted<-order(x, x[,11], x[,2])
sorted[1]
})
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
#sorted<-order(x, x[,11], x[,2])
#sorted[1,2]
x[,2]
})
myDataSplittedAndSorted
myDataSplitted
str(as.list(myDataSplitted))
class(myDataSplitted)
class(myDataSplitted[1])
class(myDataSplitted[2])
myDataSplitted[«]
myDataSplitted[1]
class(myData)
class(split(myData,myData$State))
a <- split(myData, myData$State)
a1 <- a[1]
a1
a1 <- as.dataframe(a[1])
a <- split(myData, myData$State)
str(a, max=1)
names(a)
a$AK
str(a$AK)
myDataSplitted <- split(myData, myData$State)
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
sorted<-order(x, x[,11], x[,2])
sorted[1,2]
x[,2]
})
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
print(class(x))
sorted<-order(x, x[,11], x[,2])
sorted[1,2]
x[,2]
})
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
print(class(x))
sorted<-order(x, x[,11], x[,2], na.last=TRUE)
sorted[1,2]
x[,2]
})
?order
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
print(class(x))
sorted<-x[order(x[,11], x[,2], na.last=TRUE),]
sorted[1,2]
})
myDataSplittedAndSorted <- lapply(myDataSplitted, function(x){
sorted<-x[order(x[,11], x[,2], na.last=TRUE),]
sorted[1,2]
})
myDataSplittedAndSorted
myDataSplittedAndSorted[1]
names(myDataSplittedAndSorted[1])
names(myDataSplittedAndSorted[1])[0]
names(myDataSplittedAndSorted[1])[1]
myDataSplittedAndSorted[1]
attributes(myDataSplittedAndSorted[1])
attributes(myDataSplittedAndSorted[2])
source("rankall.R")
rankall("heart attack", 20)
head(rankall("heart attack", 20),10)
tail(rankall("pneumonia","worst"),2)
tail(rankall("pneumonia","worst"),3)
tail(rankall("pneumonia","worst"),3)
source("rankall.R")
tail(rankall("pneumonia","worst"),3)
tail(rankall("heart failure"),10)
tail(as.data.frame(do.call(rbind, rankall("heart failure"))),10)
df <- as.data.frame(do.call(rbind, rankall("heart failure")))
df
myList <- rankall("heart failure")
data.frame(hospital=myList[2], state=myList[1])
names(myList)
df <- as.data.frame(do.call(rbind, rankall("heart failure")))
colnames(df) <- c("hospital", "state")
str(dd)
str(df)
source("rankall.R")
df <- as.data.frame(do.call(rbind, rankall("heart failure")))
str(df)
source("rankall.R")
tail(rankall("pneumonia", "worst"),2)
source("rankall.R")
tail(rankall("pneumonia", "worst"),2)
tail(rankall("pneumonia", "worst"),3)
tail(rankall("heart failure"),3)
tail(rankall("heart failure"),10)
tail(rankall("heart attack",20),10)
head(rankall("heart attack",20),10)
outcome <- read.csv("outcome-of-care-measures.csv", colClasses="character")
head(outcome)
outcome[,11] <- as.numeric(outcome[,11])
hist(outcome[,11])
hist(outcome[,11], main="Heart Attack 30-day Death Rate", xlab = "30-day Death Rate", ylab="Frequency")
outcome[,11] <- as.numeric(outcome[,11])
outcome[,17] <- as.numeric(outcome[,17])
outcome[,23] <- as.numeric(outcome[,23])
range(outcome[,11])
range(outcome[,11], na.rm=T)
class(range(outcome[,11], na.rm=T))
?xlim
class(range(outcome[,c(11,17,23)], na.rm=T))
range(outcome[,c(11,17,23)], na.rm=T)
par(mfrow=c(3,1))
myXlab <- "30-day Death Rate"
myRange <- range(outcome[,c(11,17,23), na.rm=T])
hist(outcome[,11] xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
par(mfrow=c(3,1))
myXlab <- "30-day Death Rate"
myRange <- range(outcome[,c(11,17,23)], na.rm=T)
hist(outcome[,11] xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
par(mfrow=c(3,1))
myXlab <- "30-day Death Rate"
myRange <- range(outcome[,c(11,17,23)], na.rm=T)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
par(mfrow=c(1,3))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
?median
?abline
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(h=median(outcome[,11]))
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(h=median(outcome[,17]))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(h=median(outcome[,23]))
median(outcome[,23])
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(h=median(outcome[,11], na.rm=T))
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(h=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(h=median(outcome[,23], na.rm=T))
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T))
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T, color="blue"))
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T))
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), color=blue)
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T))
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), color="blue")
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T))
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), col="blue")
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T))
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), col="red")
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T))
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T))
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), col="red")
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
abline(v=median(outcome[,17], na.rm=T), col="red")
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
abline(v=median(outcome[,23], na.rm=T), col="red")
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
?plotmatg
?plotmath
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k*")", list(k=mean(outcome[,17],na.rm=T))), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,17],na.rm=T))), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack ("* bar(x) == k *")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack ("* bar(x) == k *")", list(k=3), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack ("* bar(x) == k *")", list(k=3), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack ("* bar(x) == k *")", list(k=3)), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" *bar(x) == k* ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
?substitute
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" *x == k* ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" *x == k* ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" *x == k* ")", k=mean(outcome[,11],na.rm=T)), xlim=myRange)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" *k* ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
substitute("Heart Attack (" *x == k* ")", k=mean(outcome[,11],na.rm=T))
substitute("Heart Attack (" *x == k* ")", k=mean(outcome[,11],na.rm=T))
substitute("Heart Attack (" *x == k* ")", k=mean(outcome[,11]))
substitute("Heart Attack (" *x == k* ")", list(k=mean(outcome[,11]))
)
substitute("Heart Attack (" *x == k* ")", list(k=mean(outcome[,11], na.rm=T))
)
substitute("Heart Attack (" *bar(x) == k* ")", list(k=mean(outcome[,11], na.rm=T))
)
substitute("Heart Attack (" *bar(x)==k* ")", list(k=mean(outcome[,11], na.rm=T)))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" *bar(x)==k* ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
mean(outcome[,11], na.rm=T)
class(mean(outcome[,11], na.rm=T))
outcome <- read.csv("outcome-of-care-measures.csv", colClasses="character")
head(outcome)
outcome[,11] <- as.numeric(outcome[,11])
hist(outcome[,11])
hist(outcome[,11], main="Heart Attack 30-day Death Rate", xlab = "30-day Death Rate", ylab="Frequency")
outcome[,11] <- as.numeric(outcome[,11])
outcome[,17] <- as.numeric(outcome[,17])
outcome[,23] <- as.numeric(outcome[,23])
myXlab <- "30-day Death Rate"
myRange <- range(outcome[,c(11,17,23)], na.rm=T)
#one above the other
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
#all in a row
par(mfrow=c(1,3))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main="Heart Attack", xlim=myRange)
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main="Heart Failure", xlim=myRange)
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main="Pneumonia", xlim=myRange)
#draw a vertical line at the location of the median for the outcome
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
outcome <- read.csv("outcome-of-care-measures.csv", colClasses="character")
head(outcome)
outcome[,11] <- as.numeric(outcome[,11])
hist(outcome[,11])
hist(outcome[,11], main="Heart Attack 30-day Death Rate", xlab = "30-day Death Rate", ylab="Frequency")
outcome[,11] <- as.numeric(outcome[,11])
outcome[,17] <- as.numeric(outcome[,17])
outcome[,23] <- as.numeric(outcome[,23])
myXlab <- "30-day Death Rate"
myRange <- range(outcome[,c(11,17,23)], na.rm=T)
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
par(mfrow=c(3,1))
u
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main=substitute("Heart Failure (" * bar(x) == k * ")", list(k=mean(outcome[,17],na.rm=T))), xlim=myRange)
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main=substitute("Pneumonia (" * bar(x) == k * ")", list(k=mean(outcome[,23],na.rm=T))), xlim=myRange)
par(mfrow=c(3,1))
hist(outcome[,11], xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), col="red")
hist(outcome[,17], xlab=myXlab,ylab="Frequency", main=substitute("Heart Failure (" * bar(x) == k * ")", list(k=mean(outcome[,17],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,17], na.rm=T), col="red")
hist(outcome[,23], xlab=myXlab,ylab="Frequency", main=substitute("Pneumonia (" * bar(x) == k * ")", list(k=mean(outcome[,23],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,23], na.rm=T), col="red")
par(mfrow=c(3,1))
hist(outcome[,11], prob=T, xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), col="red")
hist(outcome[,17], prob=T, xlab=myXlab,ylab="Frequency", main=substitute("Heart Failure (" * bar(x) == k * ")", list(k=mean(outcome[,17],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,17], na.rm=T), col="red")
hist(outcome[,23], prob=T, xlab=myXlab,ylab="Frequency", main=substitute("Pneumonia (" * bar(x) == k * ")", list(k=mean(outcome[,23],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,23], na.rm=T), col="red")
?density
density(outcome[,11])
density(outcome[,11], na.rm=T)
?lines
par(mfrow=c(3,1))
hist(outcome[,11], prob=T, xlab=myXlab,ylab="Frequency", main=substitute("Heart Attack (" * bar(x) == k * ")", list(k=mean(outcome[,11],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,11], na.rm=T), col="red")
lines(density(outcome[,11], na.rm=T))
hist(outcome[,17], prob=T, xlab=myXlab,ylab="Frequency", main=substitute("Heart Failure (" * bar(x) == k * ")", list(k=mean(outcome[,17],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,17], na.rm=T), col="red")
lines(density(outcome[,17], na.rm=T))
hist(outcome[,23], prob=T, xlab=myXlab,ylab="Frequency", main=substitute("Pneumonia (" * bar(x) == k * ")", list(k=mean(outcome[,23],na.rm=T))), xlim=myRange)
abline(v=median(outcome[,23], na.rm=T), col="red")
lines(density(outcome[,23], na.rm=T))
table(outcome$State)
class(table(outcome$State))
attributes(table(outcome$State))
dimnames(outcome$State)
dimnames(table(outcome$State))
class(dimnames(table(outcome$State)))
table(outcome$State)
attributes(table(outcome$State))
outcome2 <- outcome[(table(outcome$State)>=20)[outcome$State],]
outcome2
death <- outcome2[,11]
state <- outcome2$State
boxplot(death~state)
par(mfrow=c(1,1))
death <- outcome2[,11]
state <- outcome2$State
boxplot(death~state, ylab="30-day Death Rate", main="Heart Attacl 30-day Death Rage by State", las=2)
basic boxplot
par(mfrow=c(1,1))
death <- outcome2[,11]
state <- outcome2$State
boxplot(death~state, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2)
?boxplot
death~state
?formuls
?formula
order(median(outcome[,11],na.rm=T))
byState <- split(outcome2, outcome2$State)
byState
?reorder
reorder(outcome2$State, outcome2[,11], na.rm=T)
reorder(outcome2$State, median(outcome2[,11]), na.rm=T)
reorder(outcome2$State, median(outcome2[,11], na.rm=T), na.rm=T)
reorder(outcome2$State, outcome2[,11], median, na.rm=T)
reorder(outcome2$State, outcome2[,11], median, na.rm=T)
reorder(outcome2$State, outcome2[,11], median, na.rm=T)
newLevels<-reorder(outcome2$State, outcome2[,11], median, na.rm=T)
boxplot(death~state, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2)
boxplot(death~newLevels, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2)
statesOrdered<-reorder(outcome2$State, outcome2[,11], median, na.rm=T)
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2)
statesOrdered<-reorder(outcome2$State, outcome2[,11], median, na.rm=T)
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2, xaxt="n")
?axis
?cex.axis
??cex.axis
axis(1,statedOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2, cex.axis=0.7)
axis(1,stateaOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2, cex.axis=0.7)
axis(1,statesOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2, cex.axis=0.7)
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=cex.axis=0.7, xaxt='n')
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2, cex.axis=0.7, xaxt='n')
axis(1,stateaOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"))
axis(1,statesOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"))
axis(1,statesOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2, cex.axis=0.7)
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2, cex.axis=0.7, xaxt='n')
axis(1,statesOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2, cex.axis=0.7)
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State", las=2, xaxt='n')
axis(1,statesOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2)
boxplot(death~statesOrdered, ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by State",  xaxt='n')
axis(1,statesOrdered,paste0(statesOrdered,"(",table(outcome2$State)[outcome2$State],")"), las=2)
library(lattice)
hospital <- read.csv("hospital-data.csv", colClasses="character")
outcome.hospital <- merge(outcome,hospital, by="Provider.Number")
death <- as.numeric(outcome.hospital[,11])
npatient <- as.numeric(outcome.hospital[,15])
owner <-factor(outcome.hospital$Hospital.Ownership)
xyplot(npatient~death | owner, xlab="Number of Patients Seen", ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by Ownership")
xyplot(death~npatient | owner, xlab="Number of Patients Seen", ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by Ownership")
xyplot(death~npatient | owner, xlab="Number of Patients Seen", ylab="30-day Death Rate", main="Heart Attack 30-day Death Rate by Ownership", layout=c(3,3))
xyplot(death~npatient | owner,
xlab="Number of Patients Seen",
ylab="30-day Death Rate",
main="Heart Attack 30-day Death Rate by Ownership",
layout=c(3,3),
panel=function(x,y,...){
panel.xyplot(x,y,...)
panel.lmline(x,y,col=2)
})
class(deat)
class(death)
owner
class(owner)
